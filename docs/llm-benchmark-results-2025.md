# LLM PHI åµæ¸¬ Benchmark çµæœ (2025-06)

> **æ¸¬è©¦æ—¥æœŸ**: 2025-06-21  
> **æ¸¬è©¦ç’°å¢ƒ**: GPU Server via Ollama API (`192.168.1.2:30133`)  
> **æ¸¬è©¦ä»»å‹™**: é†«ç™‚æ–‡æœ¬ PHI (Protected Health Information) æå–

## ğŸ“Š é‡è¦ç™¼ç¾ï¼šç°¡å–® vs è¤‡é›œæ¡ˆä¾‹å·®ç•°å·¨å¤§ï¼

| æ¨¡å‹ | ç°¡å–®æ¡ˆä¾‹ F1 | è¤‡é›œæ¡ˆä¾‹ F1 | å·®è· |
| ---- | ----------- | ----------- | ---- |
| phi4:14b | **97.3%** ğŸ† | 33.5% âŒ | -63.8% |
| llama3.1:8b | 82.4% | 52.3% | -30.1% |
| gemma3:27b | 97.4% | **91.5%** ğŸ¥ˆ | -5.9% |
| llama3.3:70b | 91.9% | **92.0%** ğŸ† | +0.1% |
| gpt-oss:20b | 94.7% | 0.0% âŒ | -94.7% |

> âš ï¸ **é—œéµç™¼ç¾**ï¼šç°¡å–®æ¡ˆä¾‹ benchmark å®¹æ˜“é«˜ä¼°æ¨¡å‹èƒ½åŠ›ï¼è¤‡é›œæ“¬çœŸæ¡ˆä¾‹æ›´èƒ½åæ˜ çœŸå¯¦ä½¿ç”¨æƒ…å¢ƒã€‚

---

## ğŸ¯ è¤‡é›œæ“¬çœŸæ¡ˆä¾‹ Benchmark çµæœ

æ¸¬è©¦è³‡æ–™ï¼š5 å€‹çœŸå¯¦é†«ç™‚å ´æ™¯ï¼Œå…± **108 å€‹ PHI æ¨™è¨˜**ï¼ˆåŒ…å«é«˜é½¡ã€ç½•è¦‹ç–¾ç—…ã€å°å…’ç§‘ã€åœ‹éš›æ‚£è€…ç­‰ï¼‰

| æ¨¡å‹ | åƒæ•¸é‡ | F1 Score | Precision | Recall | å»¶é²(s) | tok/s | æ¨è–¦ |
| ---- | ------ | -------- | --------- | ------ | ------- | ----- | ---- |
| **llama3.3:70b** | 70B | **92.0%** | 93.9% | 90.2% | 8.97s | 40 | ğŸ† **æœ€ä½³é¸æ“‡** |
| gemma3:27b | 27B | 91.5% | 92.9% | 90.2% | 10.94s | 67 | ğŸ¥ˆ æ¬¡ä½³é¸æ“‡ |
| llama3.1:8b | 8B | 52.3% | 83.0% | 38.2% | 2.83s | 212 | âš¡ å¿«ä½†æ¼åµå¤š |
| phi4:14b | 14B | 33.5% | 40.8% | 28.4% | 3.89s | 145 | âŒ ä¸é©ç”¨ |
| gpt-oss:20b | 20B | 0.0% | 0.0% | 0.0% | 9.88s | 183 | âŒ å®Œå…¨å¤±æ•— |

---

## ğŸ“‹ ç°¡å–®æ¡ˆä¾‹ Benchmark çµæœï¼ˆå°ç…§çµ„ï¼‰

æ¸¬è©¦è³‡æ–™ï¼š5 å€‹ç°¡çŸ­é†«ç™‚æ–‡æœ¬ï¼Œå…± **19 å€‹ PHI æ¨™è¨˜**

| æ¨¡å‹ | åƒæ•¸é‡ | F1 Score | Precision | Recall | å»¶é²(s) | tok/s | æ¨è–¦ |
| ---- | ------ | -------- | --------- | ------ | ------- | ----- | ---- |
| **phi4:14b** | 14B | **97.3%** | 100.0% | 94.7% | 1.98s | 144 | ğŸ† ç°¡å–®æ¡ˆä¾‹æœ€ä½³ |
| gemma3:27b | 27B | 97.4% | 95.0% | 100.0% | 6.57s | 69 | ğŸ¥ˆ é«˜æº–ç¢ºç‡ |
| gpt-oss:20b | 20B | 94.7% | 94.7% | 94.7% | 4.74s | 189 | å¯ç”¨ |
| llama3.3:70b | 70B | 91.9% | 94.4% | 89.5% | 2.29s | 41 | å¯ç”¨ |
| llama3.1:8b | 8B | 82.4% | 93.3% | 73.7% | 0.73s | 217 | âš¡ æ¥µé€Ÿä½†æ¼åµ |

---

## ğŸ† çµè«–èˆ‡å»ºè­°

### ç”Ÿç”¢ç’°å¢ƒé…ç½®å»ºè­°

| ä½¿ç”¨å ´æ™¯ | æ¨è–¦æ¨¡å‹ | F1 Score | å»¶é² | èªªæ˜ |
| -------- | -------- | -------- | ---- | ---- |
| **é«˜æº–ç¢ºç‡éœ€æ±‚** | llama3.3:70b | 92.0% | 9s | è¤‡é›œé†«ç™‚æ–‡æœ¬é¦–é¸ |
| **å¹³è¡¡é€Ÿåº¦/æº–ç¢º** | gemma3:27b | 91.5% | 11s | æ¥è¿‘æœ€é«˜æ­£ç¢ºç‡ |
| **å¿«é€Ÿé è¦½** | llama3.1:8b | 52.3% | 3s | åˆç¯©ç”¨ï¼Œéœ€äººå·¥è¤‡æª¢ |

### æ¨¡å‹èƒ½åŠ›åˆ†æ

```
                      è¤‡é›œæ¡ˆä¾‹ F1 Score
                            â†‘
                  100% â”‚
                            â”‚    llama3.3:70b (92.0%) ğŸ†
                   90% â”‚    gemma3:27b (91.5%)
                            â”‚
                   60% â”‚
                            â”‚    llama3.1:8b (52.3%)
                   50% â”‚
                            â”‚
                   30% â”‚    phi4:14b (33.5%)
                            â”‚
                    0% â”‚    gpt-oss:20b (0%)
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ æ¨¡å‹å¤§å°
                                8B   14B   20B   27B   70B
```

### é—œéµç™¼ç¾

1. **æ¨¡å‹å¤§å°èˆ‡è¤‡é›œæ¡ˆä¾‹èƒ½åŠ›æ­£ç›¸é—œ**
   - 70B > 27B >> 8B > 14B
   - phi4:14b åœ¨ç°¡å–®æ¡ˆä¾‹è¡¨ç¾å„ªç•°ï¼Œä½†ç„¡æ³•è™•ç†è¤‡é›œé†«ç™‚æ•˜è¿°

2. **gpt-oss:20b å®Œå…¨å¤±æ•—çš„åŸå› **
   - å¯èƒ½æ˜¯è©²æ¨¡å‹çš„ä¸­æ–‡/é†«ç™‚é ˜åŸŸè¨“ç·´ä¸è¶³
   - ä¸å»ºè­°ç”¨æ–¼é†«ç™‚ PHI åµæ¸¬

3. **llama3.1:8b çš„å•é¡Œ**
   - Recall åªæœ‰ 38.2%ï¼ˆæ¼åµç‡ 62%ï¼‰
   - å¸¸æ¼åµï¼šå¹´é½¡æ•¸å­—ã€æ—¥æœŸã€è‹±æ–‡åã€ç½•è¦‹ç–¾ç—…å
   - é€Ÿåº¦å¿«ä½†æº–ç¢ºç‡ä¸è¶³ä»¥ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒ

4. **llama3.3:70b vs gemma3:27b**
   - æ­£ç¢ºç‡ç›¸è¿‘ï¼ˆ92% vs 91.5%ï¼‰
   - llama3.3 ç¨å¿«ï¼ˆ9s vs 11sï¼‰
   - å…©è€…éƒ½æ˜¯å¯é é¸æ“‡

---

## ğŸ§ª è¤‡é›œæ¡ˆä¾‹ç´°ç¯€åˆ†æ

### Case 1: é«˜é½¡æ‚£è€… (94æ­²ï¼Œ26 å€‹ PHI)

| æ¨¡å‹ | TP | FP | FN | å•é¡Œé» |
| ---- | -- | -- | -- | ------ |
| llama3.3:70b | 21 | 1 | 3 | æ¼åµåºŠè™Ÿã€å¹´ä»£ |
| gemma3:27b | 21 | 3 | 3 | åŒä¸Š + èª¤å ±æ•¸å­— |
| llama3.1:8b | 7 | 4 | 17 | å¤§é‡æ¼åµ |
| phi4:14b | 5 | 12 | 19 | éåº¦æ“·å–å¥å­ |

### Case 2: ç½•è¦‹ç–¾ç—… (Huntington's, 27 å€‹ PHI)

| æ¨¡å‹ | TP | FP | FN | å•é¡Œé» |
| ---- | -- | -- | -- | ------ |
| llama3.3:70b | 24 | 1 | 2 | æ¼åµå¹´é½¡æ ¼å¼ |
| gemma3:27b | 24 | 3 | 2 | åŒä¸Š |
| llama3.1:8b | 16 | 3 | 10 | æ¼åµåœ°é»ã€é†«å¸«å |

### Case 3: å°å…’ç§‘ DMD (32 å€‹ PHI - æœ€è¤‡é›œ)

| æ¨¡å‹ | TP | FP | FN | å•é¡Œé» |
| ---- | -- | -- | -- | ------ |
| llama3.3:70b | **28** | 2 | 2 | æœ€ä½³è¡¨ç¾ |
| gemma3:27b | 26 | 1 | 4 | æ¼åµé†«å¸«å§“ |
| llama3.1:8b | 0 | 0 | 30 | **å®Œå…¨å¤±æ•—** |

---

## ğŸ”§ å„ªåŒ–å»ºè­°

### ç«‹å³å¯è¡Œ

1. **åˆ‡æ›åˆ° llama3.3:70b æˆ– gemma3:27b** - è¤‡é›œæ¡ˆä¾‹ F1 > 90%
2. **é ç†±æ©Ÿåˆ¶** - ç¬¬ä¸€æ¬¡è«‹æ±‚æœ‰å†·å•Ÿå‹•å»¶é²

### ä¸­æœŸå„ªåŒ–

1. **Prompt å„ªåŒ–** - é‡å°å¹´é½¡æ ¼å¼ã€è‹±æ–‡åç­‰é‚Šç•Œ case
2. **åˆ†æ®µè™•ç†** - é•·æ–‡æœ¬åˆ‡åˆ†å¾Œåˆ†åˆ¥è™•ç†
3. **Ensemble æŠ•ç¥¨** - llama3.3 + gemma3 é›™é‡ç¢ºèª

### é•·æœŸè¦åŠƒ

1. **Fine-tuning** - ç”¨æœ¬åœ°æ¨™è¨»è³‡æ–™å¾®èª¿è¼ƒå°æ¨¡å‹
2. **RAG æ•´åˆ** - çµåˆ HIPAA æ³•è¦æ–‡ä»¶å¢å¼·åˆ¤æ–·

---

## ğŸ“ ç›¸é—œæ–‡ä»¶

- [å„ªåŒ–ç­–ç•¥æ–‡ä»¶](llm-optimization-strategy.md)
- [Benchmark è…³æœ¬](../scripts/benchmark/llm_benchmark.py)
- [PHI æ¨™è¨˜æ¸¬è©¦è³‡æ–™](../data/test/test_phi_tagged_cases.xlsx)
- [çµæœ JSON](../data/output/benchmark_results.json)

---

*Generated by LLM Benchmark Script v1.1 - æ”¯æ´ç°¡å–®/è¤‡é›œæ¡ˆä¾‹æ¨¡å¼*
